<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hacklet</title>
    <link rel="icon" href="icon.png" type="image/png" />
    <link rel="apple-touch-icon" href="icon.png" />
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/terser@5.39.0/dist/bundle.min.js"></script>

    <!-- and it's easy to individually load additional languages -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>

    <script>
      hljs.highlightAll();
    </script>
  </head>

  <body>
    <h1>Lucas-11-Multi-Bookmarklet</h1>
    <p>
      This is a multi-tool that adds this features: 1: CalcString. An sum of
      phases (with easter eggs) 2: JTBC. An compiler for Bookmarklets in a
      Bookmarklet (yea xd). 3: Mini-JTBC. Just runs Javascript. 4: An Mysterious
      option (i wonder what is it).
    </p>
    <pre>
                        <code class="language-js">
javascript:(function () {
  function showMenu() {
    var choice = prompt(
      "Lucas 11 Multi-Bookmarklet \n\n" +
        "CalcString üñ© (1Ô∏è‚É£)\n" +
        "JTBC (Javascript To Bookmarklet Compiler) üìã (2Ô∏è‚É£)\n" +
        "Mini-JTBC üìã (3Ô∏è‚É£)\n" +
        "Credits üåê (4Ô∏è‚É£)\n" +
        "Close üö™ (5Ô∏è‚É£ or Cancell) \n\n" +
        "Mysterious option ‚ò†Ô∏è (6Ô∏è‚É£) \n\n" +
        "Select an tool with numbers."
    );
    if (choice === null) {
      alert("Bye! Made with üíñ by Lucas11.");
      return;
    }
    switch (choice) {
      case "1":
        CalcuString();
        break;
      case "2":
        JTBC();
        break;
      case "3":
        MiniJTBC();
        break;
      case "4":
        alert(
          "Credits \n Made by Lucas11 for hacklet. \n Hacklet made by PianoMan0. \n  \n\n Thanks for using this multi-tool!"
        );
        showMenu();
        break;
      case "5":
        alert("Bye! Made with üíñ by Lucas11.");
        break;
      case "6":
        window.location.href = "https://www.youtube.com/watch?v=dQw4w9WgXcQ";
        break;
      default:
        alert(
          "404. Put a number for going into a program. (Example: 1 = CalcuString)"
        );
        showMenu();
        break;
    }
  }

  function CalcuString() {
    var isallowtocontinue = true;

    while (isallowtocontinue) {
      alert("CalcString, An sum of strings in your bookmarklet.");
      var count = parseInt(prompt("How many strings you wanna to sum?", "2"));
      if (isNaN(count) || count < 1) {
        alert("Put a valid number.");
        continue;
      }

      var result = "";
      for (var i = 0; i < count; i++) {
        var input = prompt("In phrase #" + (i + 1), "");
        result += input + (i < count - 1 ? " " : "");
      }

      alert("Sum of phrases: " + result);

      var lowerResult = result.toLowerCase().trim();
      if (lowerResult === "congreation jumpscare") {
        window.location.href = "https://youtu.be/k3ebBTBeUTg?t=97";
      } else if (lowerResult === "rick roll") {
        window.location.href = "https://www.youtube.com/watch?v=dQw4w9WgXcQ";
      } else if (lowerResult === "lucas 11") {
        alert("hello - From Lucas11");
      } else if (lowerResult === "hello world") {
        window.location.href = "https://www.helloworld.org/";
      }

      isallowtocontinue = confirm("Want to continue?");
    }

    showMenu();
  }

  function JTBC() {
    alert("JTBC, An fast compiler for Bookmarklet. In a Bookmarklet.");
    var code = prompt("Put all the javascript here.");
    if (code === null) {
      alert("Cancelling...");
      return showMenu();
    }
    var result = "javascript:(function() {" + code + "})();";
    alert(result);
    navigator.clipboard.writeText(result);
    alert("Copied to your Clipboard!");

    var run = confirm("Do you want to execute the code?");
    if (!run) {
      alert("Leaving the compiler...");
      return showMenu();
    }

    try {
      new Function(code)();
    } catch (e) {
      alert("Error executing your code: " + e.message);
    }
  }

  function MiniJTBC() {
    alert("Mini-JTBC, Just runs javascript.");
    var code = prompt("Put all the javascript here.");
    if (code === null) {
      alert("Cancelling...");
      return showMenu();
    }
    try {
      new Function(code)();
    } catch (e) {
      alert("Error executing your code: " + e.message);
    }
  }

  showMenu();
})();                        </code>
                    </pre>

    <br />
    <br />
    <center><h2>Bookmarklet Tester</h2></center>
    <form id="bookmarklet-form">
      <label for="bookmarklet-code"
        >Enter your Bookmarklet JavaScript code:</label
      >
      <textarea id="bookmarklet-code" rows="4" cols="50"></textarea>
      <br />
      <button type="button" onclick="testBookmarklet()">
        Test Bookmarklet
      </button>
    </form>
    <br />

    <script>
      function testBookmarklet() {
        const code = document.getElementById("bookmarklet-code").value;
        try {
          if (code.trim().startsWith("javascript:")) {
            const cleanCode = code.replace("javascript:", "");
            console.log(cleanCode, minifyJS(cleanCode));
            new Function(cleanCode)();
          } else {
            throw new Error('Bookmarklet must start with "javascript:"');
          }
        } catch (error) {
          alert("Error in bookmarklet code: " + error.message);
        }
      }
    </script>
  </body>
</html>
